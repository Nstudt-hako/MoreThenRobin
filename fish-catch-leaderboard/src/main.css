/* ========================================
   Modern UI / UX Design System
   ======================================== */
* { box-sizing: border-box; margin:0; padding:0; }
html { font-size:16px; }
/* Use dynamic viewport height (dvh) to avoid mobile browser UI shrinking content and to allow no extra scrollbar when content shorter than viewport */
body { font-family:'Inter', -apple-system, BlinkMacSystemFont,'Segoe UI','Roboto',sans-serif; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; background:var(--gradient-app); color:var(--color-text); min-height:100dvh; line-height:1.45; overflow-y:auto; }
@media (min-width:1600px){ html { font-size:17px; } }

:root {
  --radius-xs:4px; --radius-sm:6px; --radius-md:10px; --radius-lg:18px;
  --shadow-sm:0 2px 4px rgba(0,0,0,0.08); --shadow-md:0 4px 14px rgba(0,0,0,0.12); --shadow-lg:0 8px 32px -4px rgba(0,0,0,0.35);
  --transition-base: .28s cubic-bezier(.4,0,.2,1);
  --blur-panel:22px;
  --color-primary:#6200EE; --color-background:#ffffff; --color-surface:#ffffff; --color-text:#121319; --color-textSecondary:#555e6d; --color-error:#B00020; --gradient-app:linear-gradient(135deg,#eef2f7,#d9e4f5);
  /* Spacing scale */
  --space-1:0.25rem; --space-2:0.5rem; --space-3:0.75rem; --space-4:1rem; --space-5:1.25rem; --space-6:1.5rem; --space-7:1.75rem; --space-8:2rem;
  /* Unified component paddings */
  --card-pad-y:var(--space-5); --card-pad-x:var(--space-5);
  --panel-pad-y:var(--space-6); --panel-pad-x:var(--space-6);
}
[data-theme='dark'] { --color-background:#0f1218; --color-surface:#1c2432; --color-text:#f6f8fb; --color-textSecondary:#9aa8bc; --color-primary:#6d7dff; --color-error:#ff4d61; --gradient-app:radial-gradient(circle at 25% 20%,#2c3952,#121821 62%); }

::selection { background:var(--color-primary); color:#fff; }
::-webkit-scrollbar { width:10px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:rgba(255,255,255,0.18); border-radius:20px; }
::-webkit-scrollbar-thumb:hover { background:rgba(255,255,255,0.3); }

#root, .App { min-height:100dvh; display:flex; flex-direction:column; }
.main-content { flex:1; width:100%; max-width:1280px; margin:0 auto; padding:clamp(1rem,2vw,2rem); }

/* Glass Utility */
.glass { background:rgba(255,255,255,0.55); backdrop-filter:blur(var(--blur-panel)); -webkit-backdrop-filter:blur(var(--blur-panel)); border:1px solid rgba(255,255,255,0.35); }
[data-theme='dark'] .glass { background:rgba(30,38,53,0.62); border:1px solid rgba(255,255,255,0.08); }

/* Navigation */
.navigation { position:sticky; top:0; z-index:60; padding:0.75rem 1.4rem; display:flex; align-items:center; backdrop-filter:blur(20px); border-bottom:1px solid rgba(255,255,255,0.08); background:linear-gradient(to right,rgba(0,0,0,0.3),rgba(0,0,0,0.15)); }
[data-theme='light'] .navigation { background:rgba(255,255,255,0.85); }
.nav-container { display:flex; justify-content:space-between; align-items:center; gap:1rem; width:100%; max-width:1280px; margin:0 auto; }
.nav-logo { font-size:1.15rem; font-weight:600; text-decoration:none; letter-spacing:.5px; color:var(--color-primary); position:relative; }
.nav-logo:after { content:""; position:absolute; left:0; bottom:-4px; width:0; height:2px; background:var(--color-primary); transition:var(--transition-base); }
.nav-logo:hover:after { width:100%; }
.nav-links { display:flex; gap:.75rem; align-items:center; flex-wrap:wrap; }
.nav-link { text-decoration:none; padding:.5rem .85rem; font-size:.75rem; letter-spacing:.5px; border-radius:var(--radius-sm); font-weight:500; color:var(--color-text); position:relative; transition:var(--transition-base); }
.nav-link:hover { background:rgba(255,255,255,0.12); }
[data-theme='light'] .nav-link:hover { background:#eef2f7; }
.nav-link.active { background:var(--color-primary); color:#fff !important; box-shadow:var(--shadow-sm); }
.nav-button { background:none; border:1px solid rgba(255,255,255,0.4); padding:.5rem .85rem; border-radius:var(--radius-sm); cursor:pointer; font-size:.7rem; color:var(--color-text); transition:var(--transition-base); }
/* Group select in top nav (custom component) */
.group-select-container { position:relative; }
.group-select-trigger { display:inline-flex; align-items:center; gap:.5rem; min-width:160px; padding:.5rem .7rem; font-size:.75rem; letter-spacing:.3px; border-radius:var(--radius-sm); border:1px solid rgba(255,255,255,0.3); background:rgba(255,255,255,0.08); color:var(--color-text); cursor:pointer; transition:var(--transition-base); }
[data-theme='light'] .group-select-trigger { background:#f1f5fa; border-color:#d0d7e2; }
.group-select-trigger:hover { background:rgba(255,255,255,0.16); }
[data-theme='light'] .group-select-trigger:hover { background:#e8eef7; }
.group-select-trigger:focus-visible { outline:none; border-color:var(--color-primary); box-shadow:0 0 0 2px rgba(109,125,255,0.35); }
.group-select-label { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.group-select-caret { margin-left:auto; opacity:.8; transform:translateY(1px); }

.group-select-menu { position:absolute; top:calc(100% + 6px); left:0; min-width:220px; max-height:320px; overflow:auto; padding:.35rem; background:var(--color-surface); border:1px solid rgba(255,255,255,0.12); border-radius:12px; box-shadow:var(--shadow-lg); z-index:100; animation:fadeSlide .16s ease both; }
[data-theme='light'] .group-select-menu { border-color:#dfe6ef; }
.group-select-empty { padding:.6rem .7rem; font-size:.75rem; opacity:.7; list-style:none; }
.group-select-item { display:flex; align-items:center; gap:.55rem; padding:.5rem .6rem; margin:.1rem 0; border-radius:10px; cursor:pointer; list-style:none; font-size:.78rem; letter-spacing:.2px; transition:var(--transition-base); color:var(--color-text); }
.group-select-item .dot { width:8px; height:8px; border-radius:999px; background:linear-gradient(135deg,var(--color-primary),#8f5fff); box-shadow:0 0 0 2px rgba(109,125,255,0.15); }
.group-select-item .text { flex:1; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.group-select-item .check { font-weight:700; color:var(--color-primary); }
.group-select-item:hover, .group-select-item.highlighted { background:rgba(255,255,255,0.12); }
[data-theme='light'] .group-select-item:hover, [data-theme='light'] .group-select-item.highlighted { background:#eef2f7; }
.group-select-item.active { background:linear-gradient(135deg,var(--color-primary),#8f5fff); color:#fff; }
.group-select-item.active .check { color:#fff; }

/* Hero / Home */
.home-container { padding:clamp(1.6rem,4vw,3.2rem); }
.hero-section { text-align:center; max-width:840px; margin:0 auto 3rem; }
.hero-title { font-size:clamp(2.2rem,6vw,3.4rem); font-weight:700; letter-spacing:-1.2px; background:linear-gradient(90deg,var(--color-primary),#ff7ab6); -webkit-background-clip:text; background-clip:text; color:transparent; margin-bottom:1rem; }
.hero-subtitle { font-size:clamp(1rem,2vw,1.25rem); opacity:.85; margin-bottom:2.2rem; font-weight:400; }
.hero-actions { display:flex; flex-wrap:wrap; justify-content:center; gap:.9rem; }
.hero-button { display:inline-flex; align-items:center; justify-content:center; padding:.85rem 1.4rem; text-decoration:none; border-radius:var(--radius-lg); font-weight:500; font-size:.85rem; letter-spacing:.6px; position:relative; overflow:hidden; backdrop-filter:blur(8px); transition:var(--transition-base); }
.hero-button.primary { background:linear-gradient(135deg,var(--color-primary),#8f5fff); color:#fff; box-shadow:0 8px 24px -6px rgba(0,0,0,0.35); }
.hero-button.secondary { background:linear-gradient(145deg,rgba(255,255,255,0.12),rgba(255,255,255,0.03)); border:1px solid rgba(255,255,255,0.35); color:var(--color-primary); }
[data-theme='light'] .hero-button.secondary { background:#fff; border-color:#e0e6ed; }
.hero-button:after { content:""; position:absolute; inset:0; background:radial-gradient(circle at 30% 30%,rgba(255,255,255,0.35),transparent 70%); opacity:0; transition:var(--transition-base); }
.hero-button:hover:after { opacity:1; }
.hero-button:hover { transform:translateY(-4px); box-shadow:0 10px 30px -8px rgba(0,0,0,0.45); }

/* Generic Buttons */
.btn { background:linear-gradient(135deg,var(--color-primary),#8f5fff); color:#fff; border:none; padding:.8rem 1.25rem; border-radius:var(--radius-md); cursor:pointer; font-size:.8rem; font-weight:600; letter-spacing:.5px; position:relative; overflow:hidden; transition:var(--transition-base); }
.btn:after { content:""; position:absolute; inset:0; background:radial-gradient(circle at 25% 25%,rgba(255,255,255,0.4),transparent 70%); opacity:0; transition:var(--transition-base); }
.btn:hover:after { opacity:.9; }
.btn:hover { transform:translateY(-3px); box-shadow:0 10px 24px -6px rgba(0,0,0,0.4); }
.btn:disabled { opacity:.5; cursor:not-allowed; transform:none; box-shadow:none; }
.btn-secondary { background:rgba(255,255,255,0.15); color:var(--color-text); border:1px solid rgba(255,255,255,0.3); padding:.75rem 1rem; border-radius:var(--radius-md); cursor:pointer; font-size:.7rem; font-weight:500; letter-spacing:.5px; transition:var(--transition-base); }
[data-theme='light'] .btn-secondary { background:#f2f5fa; border-color:#d5dce5; }
.btn-secondary:hover { background:rgba(255,255,255,0.25); }
[data-theme='light'] .btn-secondary:hover { background:#e6edf5; }

/* Forms */
.form-container { max-width:540px; margin:2.2rem auto; padding:var(--panel-pad-y) var(--panel-pad-x); border-radius:var(--radius-lg); background:var(--color-surface); box-shadow:var(--shadow-md); position:relative; overflow:hidden; }
[data-theme='dark'] .form-container { border:1px solid rgba(255,255,255,0.08); }
.form-group { margin-bottom:1.1rem; }
.form-group label { display:block; margin:0 0 .45rem; font-weight:600; font-size:.7rem; text-transform:uppercase; letter-spacing:.8px; opacity:.85; }
.form-group input, .form-group select { width:100%; padding:.75rem .85rem; border:1px solid rgba(255,255,255,0.25); background:rgba(255,255,255,0.07); color:var(--color-text); border-radius:var(--radius-sm); font-size:.8rem; letter-spacing:.4px; transition:var(--transition-base); }
[data-theme='light'] .form-group input, [data-theme='light'] .form-group select { background:#f7f9fc; border-color:#d9e1ea; }
.form-group input:focus, .form-group select:focus { outline:none; border-color:var(--color-primary); box-shadow:0 0 0 2px rgba(109,125,255,0.35); }
/* Themed native selects (forms, filters) */
.form-group select, .filter-bar select {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-position: right .6rem center;
  background-repeat: no-repeat;
  background-size: 12px 12px;
  padding-right: 1.8rem; /* space for caret */
  min-height: 36px;
}
.form-group select:hover { background-color: rgba(255,255,255,0.12); }
[data-theme='light'] .form-group select:hover { background-color:#eef2f7; }
.filter-bar select:hover { background-color: rgba(255,255,255,0.12); }
[data-theme='light'] .filter-bar select:hover { background-color:#eef2f7; }
.form-group select:hover, .filter-bar select:hover { border-color: var(--color-primary); }
/* Fix overlapping text/caret in native selects */
.form-group select, .filter-bar select {
  background-size: 14px 14px;
  background-position: right .75rem center; /* keep caret away from text */
  background-origin: content-box; /* position image within padded area */
  padding-right: 2.25rem; /* extra space for caret */
  min-height: 38px;
}
/* Sensible width for filter selects to avoid cramped text */
.filter-bar select { min-width: 160px; }
/* Hide default arrow in old Edge/IE */
select::-ms-expand { display: none; }
/* Dark theme caret */
[data-theme='dark'] .form-group select,
[data-theme='dark'] .filter-bar select {
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><path fill='%239aa8bc' d='M5.5 7l4.5 4.5L14.5 7z'/></svg>");
}
/* Light theme caret */
[data-theme='light'] .form-group select,
[data-theme='light'] .filter-bar select {
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><path fill='%236b7789' d='M5.5 7l4.5 4.5L14.5 7z'/></svg>");
}

/* Options background to match theme surface */
.form-group select option, .filter-bar select option { background: var(--color-surface); color: var(--color-text); }

/* Disabled state */
.form-group select:disabled, .filter-bar select:disabled { opacity:.6; cursor:not-allowed; }
/* Filter search input placeholder color */
.filter-bar input::placeholder { color: var(--color-textSecondary); opacity:.9; }
/* Filter Bar */
.filter-bar { display:flex; flex-wrap:wrap; gap:.6rem; }
.filter-bar select { padding:.55rem .7rem; border:1px solid rgba(255,255,255,0.2); background-color:rgba(255,255,255,0.07); color:var(--color-text); border-radius:var(--radius-sm); font-size:.7rem; letter-spacing:.4px; min-width:160px; }
.filter-bar input[type="search"] { padding:.55rem .7rem; border:1px solid rgba(255,255,255,0.2); background:rgba(255,255,255,0.07); color:var(--color-text); border-radius:var(--radius-sm); font-size:.7rem; letter-spacing:.4px; }
[data-theme='light'] .filter-bar select { background-color:#f5f7fa; border-color:#d5dce5; }
[data-theme='light'] .filter-bar input[type="search"] { background:#f5f7fa; border-color:#d5dce5; }
.filter-bar select:focus, .filter-bar input[type="search"]:focus { outline:none; border-color:var(--color-primary); box-shadow:0 0 0 2px rgba(109,125,255,0.35); }

/* Leaderboard */
.leaderboard-container { padding:var(--space-6) clamp(1rem, 3vw, 2rem) var(--space-8); }
.leaderboard-title { text-align:center; margin:0 0 1.8rem; font-size:clamp(1.8rem,4vw,2.4rem); letter-spacing:-1px; font-weight:600; background:linear-gradient(90deg,var(--color-primary),#ff9ccf); -webkit-background-clip:text; background-clip:text; color:transparent; }
.leaderboard-list { display:grid; gap:var(--space-5); grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); }
.leaderboard-item { position:relative; animation:fadeSlide .5s ease both; will-change:transform; }
.rank-badge { position:absolute; top:-0.4rem; left:-0.4rem; width:2rem; height:2rem; border-radius:10px; display:flex; align-items:center; justify-content:center; font-weight:700; color:#fff; font-size:.72rem; background:linear-gradient(135deg,var(--color-primary),#8f5fff); box-shadow:0 6px 18px -6px rgba(0,0,0,0.45); border:2px solid var(--color-surface); z-index:5; pointer-events:none; }
/* Top 3 highlight styles */
.leaderboard-item:nth-child(1) .rank-badge { background:linear-gradient(135deg,#f6d365,#fda085); }
.leaderboard-item:nth-child(2) .rank-badge { background:linear-gradient(135deg,#cfd4d9,#aeb4bb); }
.leaderboard-item:nth-child(3) .rank-badge { background:linear-gradient(135deg,#d1913c,#ffd194); }

.catch-item { display:flex; flex-direction:column; gap:var(--space-3); padding:var(--space-5); border-radius:var(--radius-lg); position:relative; background:var(--color-surface); border:1px solid rgba(255,255,255,0.1); box-shadow:var(--shadow-sm); transition:transform var(--transition-base), box-shadow var(--transition-base); }
[data-theme='light'] .catch-item { border:1px solid #e3e8ef; }
.catch-item:hover { transform:translateY(-3px); box-shadow:var(--shadow-md); }
.catch-info h3, .catch-species { margin:0 0 .35rem; font-size:1rem; font-weight:700; letter-spacing:.2px; }
.catch-info p { margin:0; opacity:.75; font-size:.7rem; letter-spacing:.4px; }
.catch-details { margin-top:.35rem; display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:.3rem .6rem; }
.catch-details p { margin:0; font-size:.68rem; }

/* Ensure images in catch card have consistent radius */
.catch-item img { border-radius:10px; }

/* Badges */
.badge { font-size:.55rem; letter-spacing:.5px; padding:.25rem .5rem; border-radius:999px; font-weight:600; text-transform:uppercase; background:rgba(255,255,255,0.15); color:#fff; display:inline-flex; align-items:center; gap:.25rem; }
.badge-success { background:linear-gradient(135deg,#1b5e20,#2e7d32); }
.badge-warning { background:linear-gradient(135deg,#b26a00,#ed6c02); }
.badge-danger { background:linear-gradient(135deg,#b71c1c,#c62828); }
[data-theme='light'] .badge-warning { background:linear-gradient(135deg,#ffb347,#ff9800); }
[data-theme='light'] .badge-success { background:linear-gradient(135deg,#2e7d32,#43a047); }
[data-theme='light'] .badge-danger { background:linear-gradient(135deg,#e53935,#d32f2f); }

.empty-state { text-align:center; padding:2rem; opacity:.65; font-size:.8rem; }

/* Features */
.features-section { margin-top:3rem; }
.features-section h2 { text-align:center; margin-bottom:2rem; font-size:1.6rem; }
.features-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:1.6rem; margin-top:2rem; }
.feature-card { padding:var(--card-pad-y) var(--card-pad-x); border-radius:var(--radius-lg); text-align:center; position:relative; background:var(--color-surface); border:1px solid rgba(255,255,255,0.08); box-shadow:var(--shadow-sm); overflow:hidden; }
[data-theme='light'] .feature-card { border:1px solid #e2e8f0; }
.feature-card:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 70% 20%,rgba(255,255,255,0.35),transparent 70%); opacity:0; transition:var(--transition-base); }
.feature-card:hover:before { opacity:.9; }
.feature-icon { font-size:2rem; margin-bottom:1rem; }
.feature-card h3 { margin-bottom:.5rem; color:var(--color-primary); }
.feature-card p { opacity:.8; font-size:.75rem; }

/* Login */
.login-container { max-width:400px; margin:2rem auto; padding:var(--panel-pad-y) var(--panel-pad-x); text-align:center; background:var(--color-surface); border-radius:var(--radius-lg); box-shadow:var(--shadow-md); }
[data-theme='dark'] .login-container { border:1px solid rgba(255,255,255,0.08); }
.login-container .btn { margin-top:1rem; }

/* Loading */
.loading-container { display:flex; flex-direction:column; align-items:center; justify-content:center; padding:2rem; }
.spinner { width:42px; height:42px; border:4px solid rgba(255,255,255,0.15); border-top:4px solid var(--color-primary); border-radius:50%; animation:spin 1s linear infinite; margin-bottom:1rem; }
@keyframes spin { 0%{ transform:rotate(0deg);} 100%{ transform:rotate(360deg);} }

/* Animations */
@keyframes fadeSlide { from { opacity:0; transform:translateY(6px);} to { opacity:1; transform:translateY(0);} }

/* Badges (override inline where needed) */
[data-theme='light'] .catch-item span[style*='PENDING'] { background:#ffb347 !important; }
[data-theme='light'] .catch-item span[style*='FLAGGED'] { background:#ff6b6b !important; }

/* Rail footer (desktop) */
@media (min-width:821px){
  .rail-footer { margin-top:auto; padding-top:.5rem; display:flex; flex-direction:column; gap:.6rem; }
  .user-card { padding:.6rem; border-radius:12px; background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); }
  [data-theme='light'] .user-card { background:#f7f9fc; border-color:#e3e8ef; }
  .user-card-row { display:flex; align-items:center; gap:.6rem; }
  .user-meta { display:flex; flex-direction:column; gap:2px; min-width:0; }
  .user-name { font-size:.82rem; line-height:1.15; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
  .user-email { font-size:.7rem; opacity:.7; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
  .nav-button.small { padding:.35rem .55rem; font-size:.7rem; margin-left:auto; }
  .nav-link.nav-cta { text-align:center; background:linear-gradient(135deg,var(--color-primary),#8f5fff); color:#fff !important; border-radius:10px; font-weight:600; }
}

/* Sidebar refinements */
@media (min-width:821px){
  /* Let the whole rail scroll when needed, not just the links list */
  .navigation { overflow-y: auto; }
  .nav-links { overflow-y: visible; }

  /* User card: more vertical space and better wrapping */
  .user-card { padding:.8rem; }
  .user-card-row { align-items:flex-start; flex-wrap:wrap; }
  .user-meta { flex:1 1 100%; }
  .user-email { white-space: normal; word-break: break-word; }

  /* Modern full-width logout button */
  .rail-footer .user-card .nav-button.small {
    width:100%;
    justify-content:center;
    background: linear-gradient(135deg,var(--color-primary),#8f5fff);
    color:#fff;
    border:none;
    border-radius:12px;
    padding:.6rem .8rem;
    font-weight:600;
    box-shadow: var(--shadow-sm);
  }
  .rail-footer .user-card .nav-button.small:hover { filter:brightness(1.05); box-shadow: var(--shadow-md); }
}

/* Do not rotate theme toggle on hover */
.theme-toggle:hover { transform: none; }
.theme-toggle.modern:hover { transform: none; }

/* Modern theme toggle (segmented) */
.theme-toggle.modern {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  gap: 0;
  width: 100%;
  max-width: 220px;
  padding: 4px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.25);
  background: rgba(255,255,255,0.08);
}
[data-theme='light'] .theme-toggle.modern { background:#f1f5fa; border-color:#d0d7e2; }
.theme-toggle.modern .theme-icon {
  text-align: center;
  font-size: 0.95rem;
  opacity:.85;
  pointer-events: none;
}
.theme-toggle.modern .theme-thumb {
  position: absolute;
  top: 3px;
  bottom: 3px;
  width: calc(50% - 3px);
  left: 3px;
  border-radius: 999px;
  background: linear-gradient(135deg,var(--color-primary),#8f5fff);
  box-shadow: 0 6px 16px -6px rgba(0,0,0,0.45);
  transition: transform var(--transition-base);
}
.theme-toggle.modern.dark .theme-thumb { transform: translateX(100%); }
.theme-toggle.modern:hover { filter: brightness(1.02); }

/* Auth page modern layout */
.auth-page { min-height: calc(100dvh - 0px); display:flex; align-items:center; justify-content:center; padding:2rem; }
.auth-card { width:min(980px, 100%); display:grid; grid-template-columns: 1.2fr 1fr; gap:1rem; padding:1.25rem; border-radius:18px; box-shadow: var(--shadow-lg); }
.auth-card-left { padding:1.25rem; border-radius:14px; background:linear-gradient(135deg,var(--color-primary),#8f5fff); color:#fff; display:flex; flex-direction:column; justify-content:center; }
.auth-title { font-size:clamp(1.6rem,3vw,2.2rem); font-weight:800; letter-spacing:-.5px; margin-bottom:.5rem; }
.auth-subtitle { opacity:.92; font-size:.95rem; }
.auth-card-right { display:flex; flex-direction:column; justify-content:center; gap:.6rem; padding:1rem; }
.auth-primary { width:100%; }
.auth-secondary { width:100%; }
.auth-hint { text-align:center; font-size:.75rem; opacity:.75; margin-top:.25rem; }

@media (max-width:820px){
  .auth-card { grid-template-columns: 1fr; }
  .auth-card-left { min-height:160px; }
}

/* Responsive */
@media (max-width:880px){
  .leaderboard-list { grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); }
}
@media (max-width:640px){
  .hero-title { font-size:2.2rem; }
  .nav-logo { font-size:1rem; }
  .leaderboard-title { font-size:1.75rem; }
  .leaderboard-list { gap:var(--space-4); grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); }
  .rank-badge { top:-0.35rem; left:-0.35rem; width:1.9rem; height:1.9rem; font-size:.68rem; border-radius:9px; }
}

/* Mobile Bottom Navigation */
@media (max-width:820px){
  /* Hide top navigation on very small viewports in favor of bottom navigation */
  .navigation { display:none; }
  .mobile-nav { position:fixed; bottom:0; left:0; right:0; display:flex; justify-content:space-around; align-items:center; padding:.35rem .4rem calc(.35rem + env(safe-area-inset-bottom)); backdrop-filter:blur(18px); -webkit-backdrop-filter:blur(18px); box-shadow:0 -4px 18px -4px rgba(0,0,0,0.4); z-index:80; background:rgba(20,24,30,0.72); }
  [data-theme='light'] .mobile-nav { background:rgba(255,255,255,0.9); }
  .mobile-nav-item { flex:1; display:flex; flex-direction:column; align-items:center; gap:2px; text-decoration:none; color:var(--color-textSecondary); font-size:.55rem; font-weight:600; letter-spacing:.5px; padding:.45rem .25rem .4rem; border-radius:14px; position:relative; transition:var(--transition-base); }
  .mobile-nav-item .icon { font-size:1.1rem; line-height:1; }
  .mobile-nav-item.active { background:linear-gradient(135deg,var(--color-primary),#8f5fff); color:#fff; box-shadow:0 6px 18px -6px rgba(0,0,0,0.55); }
  .mobile-nav-item.accent { font-weight:700; }
  .mobile-nav-item:hover { transform:translateY(-3px); }
  /* Instead of enlarging body height (which caused a scrollbar for short content),
     we give the main content a minimum height subtracting the bottom nav height. */
  .main-content { min-height:calc(100dvh - 76px); }
}

@media (min-width:821px){
  .mobile-nav { display:none; }
  /* Desktop layout: left navigation rail */
  .App { flex-direction: row; }
  .navigation {
    position: sticky;
    top: 0;
    left: 0;
    height: 100dvh;
    width: 260px;
    flex: 0 0 260px;
    padding: 1rem;
    border-right: 1px solid rgba(255,255,255,0.12);
    border-bottom: 0;
    background: var(--color-surface);
    backdrop-filter: none;
  }
  [data-theme='light'] .navigation { background: var(--color-surface); }
  .nav-container {
    max-width: none;
    margin: 0;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 1rem;
  }
  .nav-logo { font-size: 1.2rem; padding: .25rem .35rem; }
  .nav-links {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: .25rem;
    overflow-y: auto;
    padding-right: .25rem; /* space for scrollbar */
  }
  .nav-links .theme-toggle { margin-top: auto; }
  .nav-link, .nav-button, .theme-toggle, .group-select-trigger {
    width: 100%;
    justify-content: flex-start;
  }
  .nav-link { font-size: .85rem; padding: .6rem .8rem; }
  .main-content { max-width: none; margin: 0; padding: 1.5rem 2rem; }
}

/* Desktop nav link layout with icons */
@media (min-width:821px){
  .nav-link { display:flex; align-items:center; gap:.6rem; }
  .nav-link .icon { font-size:1rem; line-height:1; opacity:.9; }
  .nav-link .label { flex:1; }
}

/* Keep subtle rotate on theme toggle only */
.theme-toggle:hover { transform:rotate(10deg); }

/* Remove old hover that turned nav-button/theme-toggle solid primary */
.nav-button:hover { color:var(--color-text); }
/* Consistent nav controls */
.nav-button, .theme-toggle, .group-select-trigger {
  display:inline-flex; align-items:center; gap:.4rem;
  min-height:32px; padding:.5rem .75rem;
  font-size:.75rem; letter-spacing:.3px; line-height:1;
  border-radius:var(--radius-sm);
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.3);
  color:var(--color-text);
  transition:var(--transition-base);
}
[data-theme='light'] .nav-button,
[data-theme='light'] .theme-toggle,
[data-theme='light'] .group-select-trigger { background:#f1f5fa; border-color:#d0d7e2; }

.nav-button:hover, .theme-toggle:hover, .group-select-trigger:hover { background:rgba(255,255,255,0.16); color:var(--color-text); box-shadow:none; }
[data-theme='light'] .nav-button:hover,
[data-theme='light'] .theme-toggle:hover,
[data-theme='light'] .group-select-trigger:hover { background:#e8eef7; }

.nav-button:focus-visible, .theme-toggle:focus-visible, .group-select-trigger:focus-visible { outline:none; border-color:var(--color-primary); box-shadow:0 0 0 2px rgba(109,125,255,0.35); }
